{% for index in range(form.dipj | length) %}
    {% if index in controls_map.dipj.indices %}
         <fieldset>
            <legend>{{controls_map.dipj.names[index]}}</legend>

            <div class="form-grid">

                <div class="grid-item">

                    <label>{{ form.dipj[index].arom_estensione.label }}</label>
                    {{ form.dipj[index].arom_estensione }}
                    {% for error in form.dipj[index].arom_estensione.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </div>

                <div class="grid-item">
                    <label>{{ form.dipj[index].arom_flessione.label }}</label>
                    {{ form.dipj[index].arom_flessione }}
                    {% for error in form.dipj[index].arom_flessione.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </div>
                
                <div class="grid-item">
                    <label>{{ form.dipj[index].prom_estensione.label }}</label>
                    {{ form.dipj[index].prom_estensione }}
                    {% for error in form.dipj[index].prom_estensione.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </div>
                
                <div class="grid-item">    
                    <label>{{ form.dipj[index].prom_flessione.label }}</label>
                    {{ form.dipj[index].prom_flessione }}
                    {% for error in form.dipj[index].prom_flessione.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </div>
        </fieldset>
        <hr>
    {% endif %}
{% endfor %}